@model ArticleModel

<div class="card">
    <div class="card-body">
        <h3 class="card-title">@Model.Title</h3>
        <p class="card-text">@Html.Raw(Model.Description)</p>
        <a asp-controller="Article" asp-action="Details" asp-route-id="@Model.Id" class="btn btn-primary">More Detail</a>
        @if ((bool?)ViewData["IsAdmin"] == true)
        {

            @using (Html.BeginForm("DeleteArticle", "Article", new { id = Model.Id }, FormMethod.Post))
            {
                @Html.AntiForgeryToken()
                <button type="submit" class="btn btn-danger" onclick="return confirm('Are you sure you want to delete this article?');">Delete</button>
            }
        }
         @if (User.Identity.IsAuthenticated)
        {
            <!-- Like and Unlike buttons -->
            @using (Html.BeginForm("Like", "Like", new { articleId = Model.Id }, FormMethod.Post))
            {
                <button type="submit" class="btn btn-success">Like</button>
            }

            @using (Html.BeginForm("Unlike", "Like", new { articleId = Model.Id }, FormMethod.Post))
            {
                <button type="submit" class="btn btn-warning">Unlike</button>
            }
          
        }
          <span>@Model.LikesCount Likes</span>
        <!--if (User.Identity.IsAuthenticated){
        
        <form asp-action="Bookmark" asp-controller="Bookmark" asp-route-articleId="@Model.Id" method="post">
            <button type="submit" class="btn btn-info">Bookmark</button>
        </form>
        
        <span>@Model.LikesCount Likes</span> -->
        
        @if (User.Identity.IsAuthenticated)
            {
                <form asp-action="ToggleBookmark" asp-controller="Bookmark" asp-route-articleId="@Model.Id" method="post">
                    <button type="submit" class="btn @(Model.IsBookmarked ? "btn-info" : "btn-outline-info")">
                        <i class="@(Model.IsBookmarked ? "fas" : "far") fa-bookmark"></i> @(Model.IsBookmarked ? "Unbookmark" : "Bookmark")
                    </button>

                    @*@if (Model.IsBookmarked)
                    {
                        <button type="submit" class="btn btn-info"><i class="fas fa-bookmark"></i> Unbookmark</button>
                    }
                    else
                    {
                        <button type="submit" class="btn btn-outline-info"><i class="far fa-bookmark"></i> Bookmark</button>
                    }*@
                </form>
            }
        
        
        
    </div>
</div>